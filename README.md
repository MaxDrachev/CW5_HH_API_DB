КУРСОВОЙ ПРОЕКТ № 5

По теме "Работа с базами данных"

Задание:
В рамках проекта вам необходимо получить данные о компаниях и вакансиях с сайта hh.ru, 
спроектировать таблицы в БД PostgreSQL и загрузить полученные данные в созданные таблицы.

Основные шаги проекта
Получить данные о работодателях и их вакансиях с сайта hh.ru. Для этого используйте публичный API hh.ru и библиотеку 
requests
.
Выбрать не менее 10 интересных вам компаний, от которых вы будете получать данные о вакансиях по API.
Спроектировать таблицы в БД PostgreSQL для хранения полученных данных о работодателях и их вакансиях.
Для работы с БД используйте библиотеку 
psycopg2.

Реализовать код, который заполняет созданные в БД PostgreSQL таблицы данными о работодателях и их вакансиях.
Создать класс 
DBManager для работы с данными в БД.

Класс DBManager
Создайте класс DBManager, который будет подключаться к БД PostgreSQL и иметь следующие методы:

 get_companies_and_vacancies_count()
 — получает список всех компаний и количество вакансий у каждой компании.
 
get_all_vacancies()
 — получает список всех вакансий с указанием названия компании, названия вакансии и зарплаты и ссылки на вакансию.
 
get_avg_salary()
 — получает среднюю зарплату по вакансиям.
 
get_vacancies_with_higher_salary()
 — получает список всех вакансий, у которых зарплата выше средней по всем вакансиям.
 
get_vacancies_with_keyword()
 — получает список всех вакансий, в названии которых содержатся переданные в метод слова, например python.

Класс DBManager должен использовать библиотеку psycopg2 для работы с БД.

Основная логика проекта реализована в файле main.py

в папке src/classes имеются файлы:
- class_APIhh.py класс для работы с API ед хантера имеет два метода: 
get_vacancies - получает 2000 вакансии по списку id работодателей, регион только Россиия:
get_employers_data - получает данные по работодателю: id, наименование, URL, колличество размещенных вакансий
- class_DBM.py класс для работы с базой данных и реализации методов задания 
- DB_conn.py класс для подключения к базе данных, работает с использованием библеотеки psycopg2

в файле func_for_main.py в папке src записаны следующие функции:

create_tables - данная функция создает таблички в уже созданной базе данных на локальном компьютере;

truncate_table - данная функция удаляет таблички в уже созданной базе данных на локальном компьютере;

get_employees_id_by_input_user - данная функция запрашивает у пользователя 10 наименований работодателей интересных
для него, и возвращает список str наименований работодателей, для последующего прогона в функции get_id_employees

get_id_employees - данная функция получает на вход список работодателей и возвращает список id данных работодателей.

add_vacancies - данная функция добавляет вакансии в базу данных

add_employers - данная функция добавляет работодателей в базу данных

по итогу на экран выводится результат работы функций класса DBManager
